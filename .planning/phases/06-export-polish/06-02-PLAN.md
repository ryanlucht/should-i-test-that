---
phase: 06-export-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/index.css
  - src/components/ui/button.tsx
  - src/components/ui/input.tsx
  - src/components/wizard/NavigationButtons.tsx
  - src/components/wizard/ModeToggle.tsx
  - src/components/forms/UncertaintyPriorForm.tsx
  - src/components/forms/inputs/PercentageInput.tsx
  - src/components/forms/inputs/CurrencyInput.tsx
  - src/components/forms/inputs/NumberInput.tsx
autonomous: true

must_haves:
  truths:
    - "Primary accent color (#7C3AED purple) is consistent across all interactive elements"
    - "Buttons use purple for primary variant"
    - "Focus rings are purple"
    - "Selected states use purple"
    - "Links use purple color"
    - "Placeholder text is visually distinct from entered values (lighter color)"
  artifacts:
    - path: "src/index.css"
      provides: "CSS theme with purple accent"
      contains: "--primary: oklch(0.55 0.2 260)"
  key_links:
    - from: "src/components/ui/button.tsx"
      to: "bg-primary"
      via: "Tailwind class"
      pattern: "bg-primary"
---

<objective>
Fix design consistency: Apply purple accent (#7C3AED) consistently across all interactive elements and improve placeholder visibility.

Purpose: Per 06-CONTEXT.md, purple accent only appears in chart currently but buttons/accents are blue. This plan fixes the inconsistency so primary buttons, focus rings, selected states, and links all use the purple accent. Additionally, placeholder text needs to be lighter so it's clearly distinguishable from entered values.

Output:
- Updated CSS theme variables to ensure purple is correct
- Verified button variants use --primary (which is already purple)
- Any hardcoded blue colors replaced with purple
- Placeholder text styling updated to be visually lighter
</objective>

<execution_context>
@/Users/ryan.lucht/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ryan.lucht/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/06-export-polish/06-CONTEXT.md
@src/index.css
@src/components/ui/button.tsx
@src/components/wizard/NavigationButtons.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit and verify CSS theme variables are correctly purple</name>
  <files>src/index.css</files>
  <action>
Review src/index.css and verify:
1. --primary is set to purple (oklch(0.55 0.2 260) which maps to ~#7C3AED)
2. --ring matches --primary for focus states
3. Check if there are any hardcoded blue colors (#3B82F6 or similar) that should be purple

The theme already defines:
- --primary: oklch(0.55 0.2 260) - this IS purple
- --ring: oklch(0.55 0.2 260) - this IS purple

If the theme is correct, the issue may be in component-level overrides or utility classes.

Add a CSS comment documenting the design decision for purple accent consistency.
  </action>
  <verify>Grep for any blue hex codes (#3B82F6, #2563EB, etc.) in CSS files</verify>
  <done>CSS theme verified or fixed to use purple as primary accent consistently</done>
</task>

<task type="auto">
  <name>Task 2: Audit components for hardcoded colors and fix</name>
  <files>src/components/ui/button.tsx, src/components/wizard/NavigationButtons.tsx, src/components/wizard/ModeToggle.tsx, src/components/forms/UncertaintyPriorForm.tsx</files>
  <action>
Search all component files for:
1. Hardcoded blue colors: text-blue-*, bg-blue-*, border-blue-*, #3B82F6, #2563EB
2. Any override of primary color that isn't using the theme

For each occurrence found:
- Replace text-blue-* with text-primary
- Replace bg-blue-* with bg-primary
- Replace border-blue-* with border-primary
- Replace hardcoded hex with theme variable reference

Verify button.tsx uses:
- bg-primary for default variant (already should)
- text-primary for link variant (already should)

Check NavigationButtons for any custom styling.
Check ModeToggle for selected state colors.
Check UncertaintyPriorForm for the "Use recommended" button styling.

If no hardcoded blues found, document that the theme is correctly applied.
  </action>
  <verify>Grep for "blue-" and "#3B82F6" and "#2563EB" in src/ returns no matches (or only in comments)</verify>
  <done>All components use theme-based colors, no hardcoded blue overrides</done>
</task>

<task type="auto">
  <name>Task 3: Verify input focus states and links use purple</name>
  <files>src/components/forms/inputs/PercentageInput.tsx, src/components/forms/inputs/CurrencyInput.tsx, src/components/forms/inputs/NumberInput.tsx</files>
  <action>
Check input components for focus ring styling:
1. Verify focus-visible:ring-ring is used (which maps to --ring = purple)
2. Verify no hardcoded blue focus colors

Check for any inline links or buttons styled with text-* that should use text-primary.

Common patterns to look for and verify use theme:
- focus:ring-* should use ring-ring or ring-primary
- focus-visible:ring-* should use ring-ring or ring-primary
- text-* for interactive text should use text-primary

If using Tailwind's default ring color, ensure it's mapped to our theme's --ring variable.
  </action>
  <verify>npm run build passes, visual inspection shows purple focus rings on inputs</verify>
  <done>Input focus states use purple ring color from theme</done>
</task>

<task type="auto">
  <name>Task 4: Make placeholder text lighter and more distinguishable</name>
  <files>src/index.css, src/components/ui/input.tsx</files>
  <action>
Placeholder text currently looks too similar to actual entered values, making it unclear whether fields are filled.

Fix placeholder styling:
1. In src/index.css or via Tailwind config, ensure placeholder text uses a lighter color
2. Use placeholder:text-muted-foreground/50 or similar to make placeholders ~50% opacity
3. Alternatively, define a specific --placeholder color variable that's distinctly lighter

Options:
- Add `placeholder:text-muted-foreground/50` to input base styles
- Or define `--placeholder: oklch(0.55 0.02 260 / 0.5)` in theme and use `placeholder:text-placeholder`

The goal: placeholder text should be obviously "not filled in" at a glance.

Check all input components (Input, PercentageInput, CurrencyInput, NumberInput) to ensure they inherit the placeholder styling.
  </action>
  <verify>Visual inspection: placeholder text is noticeably lighter than entered values</verify>
  <done>Placeholder text is visually distinct from entered values across all form inputs</done>
</task>

</tasks>

<verification>
1. `npm run build` passes (TypeScript compiles)
2. `npm test` passes (no regressions)
3. Grep for hardcoded blue colors returns no results in src/
4. Manual: Tab through form inputs, focus rings are purple
5. Manual: Click primary buttons, they are purple
6. Manual: Selected radio cards have purple border
7. Manual: Links (like Advanced mode CTA) are purple
8. Manual: Placeholder text is noticeably lighter than entered values
</verification>

<success_criteria>
- No hardcoded blue colors in component files
- Primary buttons render with purple background
- Focus rings are purple across all form inputs
- Selected states (radio cards, toggles) use purple
- Links use purple text color
- Visual consistency matches chart accent color (#7C3AED)
- Placeholder text is visually distinct from entered values (lighter/grayed out)
</success_criteria>

<output>
After completion, create `.planning/phases/06-export-polish/06-02-SUMMARY.md`
</output>
