# Milestone v1.0: MVP

**Status:** SHIPPED 2026-02-02
**Phases:** 1-6 + 4.1, 6.1 (decimal insertions)
**Total Plans:** 31

## Overview

This roadmap transforms the A/B test decision-value calculator from concept to deployable product across 6 phases. We start with foundation and wizard infrastructure, build Basic mode inputs and calculations, add visualization and results, then extend to Advanced mode with EVSI computation, and finish with export and polish. Each phase delivers a coherent, testable capability that builds toward the complete tool.

## Phases

### Phase 1: Foundation & Wizard Infrastructure
**Goal**: Users can navigate through a 5-step wizard with data persistence and session awareness
**Depends on**: Nothing (first phase)
**Requirements**: WIZARD-01, WIZARD-02, WIZARD-03, WIZARD-04, WIZARD-05, WIZARD-07, DESIGN-01, DESIGN-02, DESIGN-05 (WIZARD-06 — SKIPPED by user decision: no leave warning needed for a simple calculator)
**Plans**: 4 plans

Plans:
- [x] 01-01-PLAN.md — Project scaffolding (Vite + React 19 + TypeScript + Tailwind 4 + shadcn/ui)
- [x] 01-02-PLAN.md — Design system via Stitch MCP (Welcome + Calculator page designs)
- [x] 01-03-PLAN.md — Wizard state management (Zustand) + Welcome page with mode selection
- [x] 01-04-PLAN.md — Calculator page with sections, sticky indicator, and navigation

### Phase 2: Basic Mode Inputs
**Goal**: Users can enter all Basic mode inputs with clear guidance and validation
**Depends on**: Phase 1
**Requirements**: BASIC-IN-01, BASIC-IN-02, BASIC-IN-03, BASIC-IN-04, BASIC-IN-05, BASIC-IN-06, BASIC-IN-07, BASIC-IN-08, UX-01, UX-02, UX-03, UX-04, UX-05, UX-08
**Plans**: 6 plans (3 original + 3 gap closure)

Plans:
- [x] 02-01-PLAN.md — Dependencies, validation utilities, and Baseline Metrics form (CR0, N_year, V)
- [x] 02-02-PLAN.md — Uncertainty prior form (default vs. custom 90% interval)
- [x] 02-03-PLAN.md — Threshold scenario selection with radio cards and inline inputs
- [x] 02-04-PLAN.md — **GAP CLOSURE:** Fix decimal input blocking in numeric inputs
- [x] 02-05-PLAN.md — **GAP CLOSURE:** Fix default prior button UX (radio -> action button)
- [x] 02-06-PLAN.md — **GAP CLOSURE:** Fix validation timing + hardcoded prior display

### Phase 3: Calculation Engine
**Goal**: System correctly calculates EVPI and supporting metrics for Basic mode
**Depends on**: Phase 2
**Requirements**: BASIC-CALC-01, BASIC-CALC-02, BASIC-CALC-03, BASIC-CALC-04, BASIC-CALC-05, BASIC-CALC-06, BASIC-CALC-07, BASIC-CALC-08, UX-06
**Plans**: 3 plans

Plans:
- [x] 03-01-PLAN.md — TDD: Statistics primitives (phi/Phi), derived values (K, threshold), smart formatting
- [x] 03-02-PLAN.md — TDD: EVPI calculation (closed-form Normal formula, edge case detection)
- [x] 03-03-PLAN.md — React hook connecting store to EVPI calculation (useEVPICalculations)

### Phase 4: Visualization & Results
**Goal**: Users see their inputs visualized and receive clear Basic mode results
**Depends on**: Phase 3
**Requirements**: VIZ-01, VIZ-02, VIZ-03, VIZ-04, VIZ-05, VIZ-06, VIZ-07, VIZ-08, BASIC-OUT-01, BASIC-OUT-02, BASIC-OUT-03, BASIC-OUT-04, BASIC-OUT-05, BASIC-OUT-06, BASIC-OUT-07, DESIGN-03
**Plans**: 3 plans

Plans:
- [x] 04-01-PLAN.md — Chart data utilities and base distribution chart component (Recharts)
- [x] 04-02-PLAN.md — Chart overlays (mean marker, 90% interval, threshold, regret shading, tooltips)
- [x] 04-03-PLAN.md — Results section with verdict and supporting explanation cards

### Phase 4.1: Calculation Engine Fixes (INSERTED)
**Goal**: Fix edge case handling in EVPI calculations and add missing test coverage for statistics primitives
**Depends on**: Phase 4
**Requirements**: None (technical debt / correctness fixes)
**Plans**: 1 plan

Plans:
- [x] 04.1-01-PLAN.md — Fix NaN handling in CDF, degenerate sigma in EVPI, and add tests

### Phase 5: Advanced Mode
**Goal**: Users can calculate realistic test value using EVSI and Cost of Delay
**Depends on**: Phase 4
**Requirements**: ADV-IN-01, ADV-IN-02, ADV-IN-03, ADV-IN-04, ADV-IN-05, ADV-IN-06, ADV-IN-07, ADV-IN-10, ADV-CALC-01, ADV-CALC-02, ADV-CALC-03, ADV-CALC-04, ADV-CALC-05, ADV-CALC-06, ADV-CALC-07, ADV-OUT-01, ADV-OUT-02, ADV-OUT-03, ADV-OUT-04, ADV-OUT-05, ADV-OUT-07, DESIGN-04
**Note**: ADV-IN-08, ADV-IN-09 (Test Costs), ADV-OUT-06 (EVPI comparison) deferred to future phase
**Plans**: 6 plans

Plans:
- [x] 05-01-PLAN.md — Dependencies, distributions abstraction, store updates (Wave 1)
- [x] 05-02-PLAN.md — Prior shape form with radio cards and Student-t df presets (Wave 1)
- [x] 05-03-PLAN.md — Experiment design form with auto-derive daily traffic (Wave 1)
- [x] 05-04-PLAN.md — TDD: EVSI, CoD, sample size calculations (Wave 2)
- [x] 05-05-PLAN.md — Web Worker + useEVSICalculations hook (Wave 3)
- [x] 05-06-PLAN.md — Advanced results UI + chart updates for all prior shapes (Wave 3)

### Phase 6: Export & Polish
**Goal**: Users can export results and experience polished, accessible interface
**Depends on**: Phase 5
**Requirements**: EXPORT-01, EXPORT-02, EXPORT-03, EXPORT-04, UX-07
**Plans**: 3 plans

Plans:
- [x] 06-01-PLAN.md — PNG export with html-to-image (ExportCard, ExportButton, useExportPng hook)
- [x] 06-02-PLAN.md — Design consistency: purple accent across all interactive elements, placeholder visibility
- [x] 06-03-PLAN.md — Accessibility: vitest-axe tests, ARIA live regions, text redundancy

### Phase 6.1: Calculation Bugs & Polish (INSERTED)
**Goal**: Fix critical EVSI calculation bugs and improve UX polish across the application
**Depends on**: Phase 6
**Requirements**: Correctness fixes + UX improvements discovered post-v1
**Plans**: 5 plans

Plans:
- [x] 06.1-01-PLAN.md — Fix Monte Carlo EVSI threshold payoff calculation and zero samples edge case
- [x] 06.1-02-PLAN.md — Fix Worker lifecycle cleanup on unmount and errors
- [x] 06.1-03-PLAN.md — Advanced mode default prior button + sigma display updates
- [x] 06.1-04-PLAN.md — Footer credits + PNG export filenames + remove unused sectionRefs
- [x] 06.1-05-PLAN.md — Helper text/tooltip updates across forms + results interpretation

---

## Milestone Summary

**Decimal Phases:**
- Phase 4.1: Calculation Engine Fixes (inserted after Phase 4 for EVPI edge cases)
- Phase 6.1: Calculation Bugs & Polish (inserted after Phase 6 for EVSI fixes and UX polish)

**Key Decisions:**
- Separate vitest.config.ts for TypeScript type conflict avoidance
- State-based routing (no react-router) for simplicity with only 2 pages
- Zod v4 API for form validation
- Action button pattern for form presets (not radio-style)
- Abramowitz-Stegun formula for CDF (error < 7.5e-8)
- Rejection sampling for EVSI feasibility constraints
- Normal priors use synchronous fast path (no Worker needed)
- Native <a download> for PNG export

**Issues Resolved:**
- Decimal input blocking in numeric fields
- Validation timing with reValidateMode: 'onBlur'
- NaN handling in standardNormalCDF
- Degenerate sigma (σ=0) producing non-zero EVPI
- EVSI threshold payoff using absolute instead of relative lift
- Worker memory leaks on unmount/error

**Technical Debt Incurred:**
- ADV-IN-08, ADV-IN-09 (Test Costs inputs) deferred to v1.1
- ADV-OUT-06 (EVPI comparison display) deferred to v1.1
- Actual truncation for EVPI at L >= -1 (using formula approximation)

---

_For current project status, see .planning/ROADMAP.md_
_Archived: 2026-02-02 as part of v1.0 milestone completion_
