# Requirements Archive: v1.0 MVP

**Archived:** 2026-02-02
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1 Requirements

Requirements for initial release. All shipped.

### Wizard Flow (WIZARD)

- [x] **WIZARD-01**: 5-step wizard flow: Welcome → Baseline → Uncertainty → Threshold → Results
- [x] **WIZARD-02**: Progress indicator with numbered steps and descriptive labels
- [x] **WIZARD-03**: Back/Next navigation with validation before advancing
- [x] **WIZARD-04**: Linear flow enforcement (cannot skip ahead)
- [x] **WIZARD-05**: Data persistence within session (back navigation preserves data)
- [~] **WIZARD-06**: Leave warning modal on browser back/close with unsaved data — SKIPPED (user decision: not needed for simple calculator)
- [x] **WIZARD-07**: Mode toggle (Basic ↔ Advanced) accessible from wizard

### Basic Mode Inputs (BASIC-IN)

- [x] **BASIC-IN-01**: Baseline conversion rate input (percent, 0-100%, stored as decimal)
- [x] **BASIC-IN-02**: Annual visitors input with editable label (visitors/sessions/leads/etc.)
- [x] **BASIC-IN-03**: Value per conversion input (dollar amount)
- [x] **BASIC-IN-04**: Uncertainty prior: default option (N(0, 0.05))
- [x] **BASIC-IN-05**: Uncertainty prior: custom 90% interval option (L_low, L_high)
- [x] **BASIC-IN-06**: Shipping threshold: 3 scenarios (any positive / minimum lift / accept small loss)
- [x] **BASIC-IN-07**: Threshold unit selector (dollars/year or relative lift %)
- [x] **BASIC-IN-08**: Helper text for all inputs as specified in SPEC.md

### Basic Mode Calculations (BASIC-CALC)

- [x] **BASIC-CALC-01**: Derive K (annual dollars per unit lift) = N_year × CR0 × V
- [x] **BASIC-CALC-02**: Derive threshold in both units (T_$ = K × T_L)
- [x] **BASIC-CALC-03**: Determine default decision (Ship if mu_L ≥ T_L, else Don't ship)
- [x] **BASIC-CALC-04**: Calculate EVPI via closed-form Normal formula (primary method)
- [x] **BASIC-CALC-05**: Truncate prior at L ≥ -1 and re-normalize
- [x] **BASIC-CALC-06**: Calculate probability of clearing threshold P(L ≥ T_L)
- [x] **BASIC-CALC-07**: Calculate "chance of being wrong" based on default decision
- [x] **BASIC-CALC-08**: Handle edge cases: EVPI ≈ 0 when sigma_L → 0 or threshold far from distribution

### Basic Mode Results (BASIC-OUT)

- [x] **BASIC-OUT-01**: Primary verdict: "If you can A/B test this idea for less than $EVPI, it's worth testing"
- [x] **BASIC-OUT-02**: Subtext warning that EVPI is optimistic ceiling (nudge to Advanced mode)
- [x] **BASIC-OUT-03**: Prior summary card (mean + 90% interval)
- [x] **BASIC-OUT-04**: Threshold summary card (both units)
- [x] **BASIC-OUT-05**: Probability of clearing threshold display
- [x] **BASIC-OUT-06**: Chance of regret intuition display
- [x] **BASIC-OUT-07**: EVPI intuition display (expected regret)

### Advanced Mode Inputs (ADV-IN)

- [x] **ADV-IN-01**: Prior shape selector (Normal, Student-t, Uniform)
- [x] **ADV-IN-02**: Student-t degrees of freedom presets (3, 5, 10, 30)
- [x] **ADV-IN-03**: Traffic split control/variant (default 50/50)
- [x] **ADV-IN-04**: Planned test duration (days/weeks)
- [x] **ADV-IN-05**: Daily traffic input (or derive from N_year/365 option)
- [x] **ADV-IN-06**: Eligibility/ramp fraction (default 100%)
- [x] **ADV-IN-07**: Decision latency (default 0 days)
- [~] **ADV-IN-08**: Hard costs input (tools/vendor fees) — DEFERRED to v1.1
- [~] **ADV-IN-09**: Labor costs input (hours + hourly rate OR direct cost) — DEFERRED to v1.1
- [x] **ADV-IN-10**: Helper text for prior shapes (fat-tailed evidence, uniform warning)

### Advanced Mode Calculations (ADV-CALC)

- [x] **ADV-CALC-01**: Derive sample sizes (n_total, n_control, n_variant)
- [x] **ADV-CALC-02**: Calculate EVSI via Monte Carlo pre-posterior analysis
- [x] **ADV-CALC-03**: Monte Carlo performance target: ~500ms-2s, no UI blocking
- [x] **ADV-CALC-04**: Calculate Cost of Delay per spec formula
- [x] **ADV-CALC-05**: Calculate Net value = EVSI − CoD
- [x] **ADV-CALC-06**: Enforce feasibility bounds (CR must stay in [0,1])
- [x] **ADV-CALC-07**: Handle Normal-Normal approximation fast path for Normal priors

### Advanced Mode Results (ADV-OUT)

- [x] **ADV-OUT-01**: Primary verdict: "If you can run this test for less than $Y, it's worth testing"
- [x] **ADV-OUT-02**: Y = max(0, EVSI − CoD) calculation
- [x] **ADV-OUT-03**: EVSI display (gross value of test information)
- [x] **ADV-OUT-04**: Cost of Delay display
- [x] **ADV-OUT-05**: Net value of testing display
- [~] **ADV-OUT-06**: EVPI ceiling display with "EVSI ≤ EVPI" teaching point — DEFERRED to v1.1
- [x] **ADV-OUT-07**: Probability test changes decision (or decision sensitivity metric)

### Visualization (VIZ)

- [x] **VIZ-01**: Live-updating distribution chart (x-axis: relative lift %)
- [x] **VIZ-02**: Show mean indicator on chart
- [x] **VIZ-03**: Show 90% interval indicators on chart
- [x] **VIZ-04**: Threshold vertical line with tooltip showing both units
- [x] **VIZ-05**: Regret shading: shade L < T_L if default Ship, L > T_L if default Don't
- [x] **VIZ-06**: Dollar values as hover/callouts via Δ$ = K × L
- [x] **VIZ-07**: Clear axis labels with units
- [x] **VIZ-08**: Responsive chart sizing

### UI/UX Polish (UX)

- [x] **UX-01**: Input formatting (currency with $, percentages with %)
- [x] **UX-02**: Inline validation with clear, specific error messages
- [x] **UX-03**: Contextual help text visible (not hidden in tooltips)
- [x] **UX-04**: Keyboard navigation (Tab through inputs, Enter to advance)
- [x] **UX-05**: Focus indicators (visible focus rings)
- [x] **UX-06**: Live result preview (updates as inputs change)
- [x] **UX-07**: Color + text redundancy for status (not color alone)
- [x] **UX-08**: Reasonable defaults/placeholders for all inputs

### Export (EXPORT)

- [x] **EXPORT-01**: Export shareable PNG image card
- [x] **EXPORT-02**: PNG includes: title, idea name (if provided), verdict line
- [x] **EXPORT-03**: PNG includes: key inputs summary
- [x] **EXPORT-04**: PNG includes: mini chart (optional)

### Design (DESIGN)

- [x] **DESIGN-01**: Datadog-inspired visual language (clean, modern, high-contrast)
- [x] **DESIGN-02**: Subtle gradients, rounded cards, crisp typography
- [x] **DESIGN-03**: Charts match UI styling (consistent font, spacing, tooltips)
- [x] **DESIGN-04**: Restrained palette with one bright accent for CTAs
- [x] **DESIGN-05**: Use Stitch MCP for design before implementation

---

## Milestone Summary

**Shipped:** 64 of 67 v1 requirements (3 deferred, 1 skipped)

**Adjusted during implementation:**
- WIZARD-06: Skipped by user decision (leave warning not needed for simple calculator)
- ADV-IN-08, ADV-IN-09: Deferred to v1.1 (Test Costs inputs)
- ADV-OUT-06: Deferred to v1.1 (EVPI comparison display)

**Dropped:** None

---
*Archived: 2026-02-02 as part of v1.0 milestone completion*
